<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>2019 on Funky Si's Blog</title><link>https://www.funkysi1701.com/2019/</link><description>Recent content in 2019 on Funky Si's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-gb</language><lastBuildDate>Thu, 08 Aug 2019 20:00:45 +0000</lastBuildDate><atom:link href="https://www.funkysi1701.com/2019/index.xml" rel="self" type="application/rss+xml"/><item><title>Picard is back!</title><link>https://www.funkysi1701.com/posts/2019/picard-is-back/</link><pubDate>Thu, 08 Aug 2019 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2019/picard-is-back/</guid><description>&lt;p>It has just been announced at the annual Star Trek Las Vegas (&lt;a href="https://twitter.com/hashtag/STLV" target="_blank" rel="noopener noreferrer">#STLV&lt;/a>
) convention that Patrick Stewart is going to return to his role as Jean-Luc Picard in a new TV Show.&lt;/p>
&lt;iframe type="text/html" width="662" height="373" src="https://www.youtube.com/embed/aCKQp1sGVRQ?version=3&amp;amp;rel=1&amp;amp;fs=1&amp;amp;autohide=2&amp;amp;showsearch=0&amp;amp;showinfo=1&amp;amp;iv_load_policy=1&amp;amp;wmode=transparent" allowfullscreen="true" style="border:0;">&lt;/iframe>
&lt;p>Few other details have been announced other than the TV show will take place 20 years after the film Star Trek: Nemesis and will feature the character of Jean-Luc Picard.&lt;/p>
&lt;p>Lets run though a few things I would like to see from this new show.&lt;/p>
&lt;h2 id="low-on-action">Low on Action&lt;a class="anchor ms-1" href="#low-on-action">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>Star Trek: Discovery is a great show and has brought Star Trek back to our TV shows. However it is an action show, it zooms along so fast and with so much action I would appreciate a show that can takes its time a bit more.&lt;/p>
&lt;p>I want a show that can show Picard carefully considering some moral issue and making a decision. Something we were used to seeing on TNG.&lt;/p>
&lt;h2 id="feature-picards-excellent-speeches">Feature Picard’s excellent speeches&lt;a class="anchor ms-1" href="#feature-picards-excellent-speeches">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>One of the best features I can think of Jean-Luc Picard is his ability to make speeches about one issue or other.&lt;/p>
&lt;p>Lets look at a few examples:&lt;/p>
&lt;p>&lt;strong>Insurection&lt;/strong> : Picard speaks about the forced relocation of a group of people.&lt;/p>
&lt;blockquote>
&lt;p>How many people does it take, Admiral, before it becomes wrong? Hmm? A thousand, fifty thousand, a million? How many people does it take, Admiral?&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>First&lt;/strong> &lt;strong>Contact&lt;/strong> : Picard is hell bent on revenge for what the Borg have done to him and refuses to destroy the Enterprise to save his crew.&lt;/p>
&lt;blockquote>
&lt;p>“I will not sacrifice the Enterprise. We’ve made too many compromises already. Too many retreats. They invade our space and we fall back. They assimilate entire worlds, and we fall back. Not again! The line must be drawn here, …this far, no further! And I will make them pay for what they’ve done.”&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>Measure of a Man&lt;/strong> : Picard argues for the rights of Data.&lt;/p>
&lt;blockquote>
&lt;p>“You see, he’s met two of your three criteria for sentience, so what if he meets the third. Consciousness in even the smallest degree. What is he then? I don’t know. Do you? (to Riker) Do you? (to Phillipa) Do you? Well, that’s the question you have to answer. Your Honour, the courtroom is a crucible. In it we burn away irrelevancies until we are left with a pure product, the truth for all time. Now, sooner or later, this man or others like him will succeed in replicating Commander Data. And the decision you reach here today will determine how we will regard this creation of our genius. It will reveal the kind of a people we are, what he is destined to be. It will reach far beyond this courtroom and this one android. It could significantly redefine the boundaries of personal liberty and freedom, expanding them for some, savagely curtailing them for others. Are you prepared to condemn him and all who come after him to servitude and slavery? Your Honour, Starfleet was founded to seek out new life. Well, there it sits. Waiting. You wanted a chance to make law. Well, here it is. Make a good one.”&lt;/p>
&lt;/blockquote>
&lt;h2 id="ask-important-questions">Ask important questions&lt;a class="anchor ms-1" href="#ask-important-questions">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>We live in uncertain times. There are lots of pressures on today’s world and we need to acknowledge these. Picard is an excellent character to use to ask important questions of the day.&lt;/p>
&lt;p>What does it mean to be human?&lt;br>
How should we treat people that are different to us?&lt;br>
How should we react to extremism?&lt;/p>
&lt;h2 id="deal-with-his-age">Deal with his age&lt;a class="anchor ms-1" href="#deal-with-his-age">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>In the last episode of TNG a future version of Picard is shown 25 years into the future. This is a similar time period so it will be interesting to compare the two. Have Picard look back on his life and ask questions about his life choices.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Picard" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2018/08/all-good-things.jpg?w=662&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;h2 id="be-consistent-with-his-past">Be consistent with his past&lt;a class="anchor ms-1" href="#be-consistent-with-his-past">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>Picard is a well known character. So writers please don’t change him. I want a character we know, not a character that looks like Picard but acts in a way contrary to what we would expect.&lt;/p>
&lt;p>Picard has a history we know, he served on the stargazer and of course the Enterprise, he has an artificial heart, he was assimiliated by the Borg. All&lt;/p>
&lt;h2 id="reference-50-years-of-star-trek">Reference 50 years of Star Trek&lt;a class="anchor ms-1" href="#reference-50-years-of-star-trek">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>Discovery and Enterprise are TV shows which have a problem. There is Trek going on after them which imposes a few rules on what can and can’t be done.&lt;/p>
&lt;p>This is a TV Show that will take place after every other Trek TV and Film and can do whatever the creators want. This gives freedom, but it also gives the responsibility to reference what has gone before.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Picard" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2018/08/download.jpg?w=662&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>The 2009 Star Trek film features the destruction of Romulus and Spock travelling back in time. How about Picard dealing with surviving Romulans helping rebuild their society, continuing the work that Spock started in the TNG episode Unification.&lt;/p>
&lt;p>I look forward to finding out what the Star Trek production team has in store for us. If they have Patrick Stewart convinced I am sure it is going to be good.&lt;/p></description></item><item><title>Gated Release</title><link>https://www.funkysi1701.com/posts/2019/gated-release/</link><pubDate>Fri, 05 Apr 2019 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2019/gated-release/</guid><description>&lt;p>Automated releases of software are great but how can we add an element of feedback so only good releases go live.&lt;/p>
&lt;p>I have been using Azure DevOps to release my &lt;a href="https://www.funkysi1701.com/pwned-pass/">PwnedPass&lt;/a>
android app to the Google Play Store for a while now. There are options to deploy to the alpha, Beta or Production tracks and even to set % of users to target. For the full range of options check out the Google Play &lt;a href="https://marketplace.visualstudio.com/items?itemName=ms-vsclient.google-play" target="_blank" rel="noopener noreferrer">extension&lt;/a>
for Azure DevOps.&lt;/p>
&lt;p>My release starts by publishing to 10% of users on the production track, my next step makes use of the increase rollout option to increase this %, you can have as many of these additional steps as you want until you reach 100% of your users.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/04/image.png?fit=662%2C116&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>Now if you run this release now it will just run through each of the steps one after the other. Now of course you can add a pre or post approval to your pipeline but this just adds a manual dependency to your release. Whoever does the approving needs to check things are working before approving or worse just approves regardless.&lt;/p>
&lt;p>Azure DevOps has the concept of &lt;a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/release/deploy-using-approvals?view=azure-devops" target="_blank" rel="noopener noreferrer">gated releases&lt;/a>
which allows you to add automated checks before or after a release happens. These automated checks can be any of the following:&lt;/p>
&lt;ul>
&lt;li>An Azure Function&lt;/li>
&lt;li>A Rest API call&lt;/li>
&lt;li>Azure Monitor Alert&lt;/li>
&lt;li>Query Work Items&lt;/li>
&lt;li>Security and Compliance Assessment&lt;/li>
&lt;/ul>
&lt;p>We are going to make use of the Azure Monitor Alert, to create an alert from your Application Insights data and only continue the rollout if no failures are detected.&lt;/p>
&lt;p>Open up your application insights resource in the Azure portal and look in alerts. Click add new alert rule.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/04/image-1.png?fit=662%2C552&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>Select your application insights resource in Resource, In Condition choose a condition to check, I chose Failed Requests, so every time a failure is registered in my API I can stop the deployment. The exact criteria you want to use is entirely up to you.&lt;/p>
&lt;p>Create an action group, I just set my alert to send an email to myself but there are other alert actions you may want to try. Give your alert a name and description and click save.&lt;/p>
&lt;p>Now all we need to do is make Azure DevOps make use of this alert. In your release pipeline select the pre-deployment conditions of your second step and open up the Gates section.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/04/image-2.png?fit=662%2C498&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>Choose a suitable time to evaluate, I have been using something long like 12 or 24 hours so if there are problems there is time for it to be noticed. Choose Version 1 of the task (I was not able to get it to work with Version 0)&lt;/p>
&lt;p>Now select your Azure subscription and Resource Group and leave the rest of the settings as they are. Now your Deployment will stop and analyse application insights for any Failed requests and will halt if it finds any.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/04/image-3.png?fit=662%2C88&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>I am still testing this out but it will take a few days to figure out if this what I want due to the large time scales involved. I feel this is going to be an improvement of manually approving release steps.&lt;/p></description></item><item><title>Documenting your API</title><link>https://www.funkysi1701.com/posts/2019/documenting-your-api/</link><pubDate>Wed, 27 Mar 2019 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2019/documenting-your-api/</guid><description>&lt;p>So you have created a super API that does something amazing. How do you document it so people will use it?&lt;/p>
&lt;p>One way of easily documenting your API is to install the Swashbuckle package.&lt;/p>
&lt;pre tabindex="0">&lt;code>Install-Package Swashbuckle.AspNetCore
Install-Package Swashbuckle.AspNetCore.Swagger
&lt;/code>&lt;/pre>&lt;p>Then in you startup.cs add the following lines&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">//In ConfigureServices&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>services.AddSwaggerGen(c =&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> c.SwaggerDoc(&lt;span style="color:#e6db74">&amp;#34;v1&amp;#34;&lt;/span>, &lt;span style="color:#66d9ef">new&lt;/span> Info { Title = &lt;span style="color:#e6db74">&amp;#34;API&amp;#34;&lt;/span>, Version = &lt;span style="color:#e6db74">&amp;#34;v1&amp;#34;&lt;/span>, Description = &lt;span style="color:#e6db74">&amp;#34;An API Description&amp;#34;&lt;/span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> c.IncludeXmlComments(&lt;span style="color:#66d9ef">string&lt;/span>.Format(&lt;span style="color:#e6db74">@&amp;#34;{0}\API.xml&amp;#34;&lt;/span>, System.AppDomain.CurrentDomain.BaseDirectory));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>});
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">//In Configure&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>app.UseSwagger();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>app.UseSwaggerUI(c =&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> c.SwaggerEndpoint(&lt;span style="color:#e6db74">&amp;#34;/swagger/v1/swagger.json&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;API V1&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> c.RoutePrefix = &lt;span style="color:#66d9ef">string&lt;/span>.Empty;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>});
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now when you browse to your API you will see the swagger documentation system.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/03/image-3.png?w=662&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>The RoutePrefix setting controls the path in which swagger will display. I have my docs at the root, but you might want them under the /docs or similar path.&lt;/p>
&lt;p>The IncludeXmlComments setting from the ConfigureServices method allows you to load in any XML comments you have added to methods. For this to work you need to enable a setting to your build.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/03/image-4.png?w=662&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>The XML documentation file must be ticked and contain a path. Everytime you do a build, a XML file will be generated which contains all the comment blocks you have added to your code.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/03/image-5.png?w=662&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>Swagger will then use this XML documentation file to produce lovely looking documentation without you having to do anything extra.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/03/image-6.png?fit=662%2C260&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p></description></item><item><title>Azure Key Vault</title><link>https://www.funkysi1701.com/posts/2019/azure-key-vault/</link><pubDate>Tue, 19 Mar 2019 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2019/azure-key-vault/</guid><description>&lt;p>&lt;a href="https://docs.microsoft.com/en-gb/azure/key-vault/" target="_blank" rel="noopener noreferrer">Azure Key Vault&lt;/a>
is a secure way of storing your keys, certificates and secrets so your application can access everything it needs to but you don’t have them being stored insecurely anywhere such as in source control.&lt;/p>
&lt;p>I have been wanting to give Azure Key Vault a try for a while now as it can make use of Azure Active Directory to give your web app an identity so it can authenticate itself into the key vault to access secrets. Pretty clever but with a lot of moving parts a bit complex.&lt;/p>
&lt;p>For my example I am just going to connect to my Key Vault and get a secret and display it somewhere on a web page. This is of course not what you want to do as secrets are secret and shouldn’t be displayed just used to authenticate into whatever, however it is an easy way to prove I am connecting to the Key Vault and everything is working.&lt;/p>
&lt;p>Lets look at some code. I have a .net core application and to start with lets install three nuget packages.&lt;/p>
&lt;pre tabindex="0">&lt;code>Microsoft.Azure.KeyVault
Microsoft.Azure.Services.AppAuthentication
Microsoft.Extensions.Configuration.AzureKeyVault
&lt;/code>&lt;/pre>&lt;p>I’ve not include version numbers as these will no doubt get updated over time but hopefully it will still work.&lt;/p>
&lt;p>Now in your Program.cs add the following code, replacing [KeyVaultName] with the name of your Key Vault.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Program&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Main(&lt;span style="color:#66d9ef">string&lt;/span>[] args)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CreateWebHostBuilder(args).Build().Run();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> IWebHostBuilder CreateWebHostBuilder(&lt;span style="color:#66d9ef">string&lt;/span>[] args) =&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> WebHost.CreateDefaultBuilder(args)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .ConfigureAppConfiguration((context, config) =&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> builtConfig = config.Build();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> azureServiceTokenProvider = &lt;span style="color:#66d9ef">new&lt;/span> AzureServiceTokenProvider();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> keyVaultClient = &lt;span style="color:#66d9ef">new&lt;/span> KeyVaultClient(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> KeyVaultClient.AuthenticationCallback(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> azureServiceTokenProvider.KeyVaultTokenCallback));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> config.AddAzureKeyVault(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">$&amp;#34;https://[KeyVaultName].vault.azure.net/&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> keyVaultClient,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> DefaultKeyVaultSecretManager());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> })
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .UseApplicationInsights()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .UseStartup&amp;lt;Startup&amp;gt;();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now all you need to do is look at your configuration to pull out secrets from your Azure Key Vault. If you have a secret called AppSecret then you can use the following code snippet to retrieve its value, assuming _configuration is an implementation of Microsoft.Extensions.Configuration.IConfiguration.&lt;/p>
&lt;pre tabindex="0">&lt;code>_configuration[&amp;#34;AppSecret&amp;#34;];
&lt;/code>&lt;/pre>&lt;p>Now if you do all of this and run from an Azure Web App or run locally it will fail to pull anything from the Key Vault. You need to give your web app an identity and configure your key vault to allow access from that identity.&lt;/p>
&lt;p>Once my code has been deployed to an Azure Web App I get the following error.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/03/image.png?fit=662%2C292&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>Lets look at fixing that, first lets give my web app an Identity. Open up the Azure portal and find the identity section of your web app and turn the setting on.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/03/image-1.png?fit=662%2C396&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>Now you need to grant that identity permission to your key vault. In the portal open up Access Policies in your key vault and click add Policy, select the identity of your web app in the principal box and select the following settings to grant access to your secret.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Image" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/03/image-2.png?resize=206%2C428&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>Now you have a website that can pull secrets out of Key Vault but only that unique identity. Anyone who has access to your source code will not have access to your secrets, even if they push your code to a different Azure Web App.&lt;/p></description></item><item><title>Technology I want to learn more about</title><link>https://www.funkysi1701.com/posts/2019/technology-i-want-to-learn-more-about/</link><pubDate>Tue, 05 Mar 2019 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2019/technology-i-want-to-learn-more-about/</guid><description>&lt;p>While at &lt;a href="https://www.funkysi1701.com/2019/02/26/microsoft-ignite-the-tour-london">Microsoft Ignite&lt;/a>
I heard about a lot of cool tech that I want to know more about. The best way to learn something is use it to solve a problem.&lt;/p>
&lt;p>So what can I build that is both useful and will let me play with some new tech?&lt;/p>
&lt;p>I have a Xamarin Forms app &lt;a href="https://www.funkysi1701.com/pwned-pass/">Pwned Pass&lt;/a>
that has over 500 downloads on &lt;a href="https://play.google.com/store/apps/details?id=pwnedpasswords.pwnedpasswords" target="_blank" rel="noopener noreferrer">Google play&lt;/a>
and over 80 downloads on the &lt;a href="https://www.microsoft.com/en-gb/p/pwned-pass/9nm2whnztnlt?rtc=1" target="_blank" rel="noopener noreferrer">Microsoft Store&lt;/a>
. This has given me a small user base that I can use to make use of whatever I build.&lt;/p>
&lt;p>My app makes use of the &lt;a href="https://haveibeenpwned.com/API/v2" target="_blank" rel="noopener noreferrer">HIBP API&lt;/a>
created by Troy Hunt. I am going to build my own API, initially it will just make calls to the HIBP API. Building this will give me experience of building something with .net Core from design to deployment. I have made a start already on doing this, I have an empty .net core API project which deploys to an Azure web app using the build and release pipelines from Azure DevOps.&lt;/p>
&lt;p>You may be wondering why I am not making use of Azure Functions to build this API. Azure functions is certainly a great technology that is worth learning about. However I have done a little bit with them in the past and I don’t believe I would be able to learn all the things I want to if I used Azure Functions. My primary goal is learning and sharing that learning via this blog. It may well be I move to using Azure Functions later on.&lt;/p>
&lt;p>Another tech I am keen to learn more about is &lt;a href="https://docs.microsoft.com/en-gb/azure/key-vault/" target="_blank" rel="noopener noreferrer">Azure Key Vault&lt;/a>
. This is a technology that allows the securing of keys, connection strings and certificates. I want my app to securely get keys and security information without any of it having to be committed to source code or shared insecurely.&lt;/p>
&lt;p>Monitoring my app is also a key learning from me. I use application insights already, but I would like to extend my understanding of this so telemetry can be fed back into the build and bad deployments stopped.&lt;/p>
&lt;p>Below is my complete list of learning and tech I want to touch on. It is a long list and I imagine it will get longer as I work through it. I want to regularly blog and share what I have been working on. I currently have a working build and release pipeline but nothing of note to build or release. I know Key Vault needs looking at early as the identity of the website in Azure is key to getting that tech working correctly.&lt;/p>
&lt;ol>
&lt;li>Build API with .net core&lt;/li>
&lt;li>Add build and release pipeline&lt;/li>
&lt;li>Make use of Azure KeyVault for secrets, connection strings etc&lt;/li>
&lt;li>Plugin My Xamarin app to make use of it&lt;/li>
&lt;li>Monitor my API with Application Insights&lt;/li>
&lt;li>Secure it with CSPs and log this into &lt;a href="https://report-uri.com/" target="_blank" rel="noopener noreferrer">Report URI&lt;/a>
&lt;/li>
&lt;li>Consider building a web frontend to my API using a javascript library or framework. Maybe react but this can be decided later.&lt;/li>
&lt;li>Dockerize the API and add the creation of docker images to the build/release pipeline&lt;/li>
&lt;/ol></description></item><item><title>Microsoft Ignite | The Tour – London</title><link>https://www.funkysi1701.com/posts/2019/microsoft-ignite-the-tour-london/</link><pubDate>Tue, 26 Feb 2019 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2019/microsoft-ignite-the-tour-london/</guid><description>&lt;p>I have just spent the first day at the conference Microsoft Ignite | The Tour.
&lt;img class="img-fluid" alt="Alt Text" src="https://www.funkysi1701.com/wp-content/uploads/2019/02/D0UTj08XgAEo1YJ.jpg?fit=662%2C440&amp;amp;ssl=1" loading="lazy"
/>
The conference was free I just needed to arrange travel and accommodation. Microsoft have really looked after me and all the other guests, breakfast and lunch has been provided, I got a free t-shirt, coffee (or tea) all day plus a beer or glass of wine to end the day. And that’s before you collect any free stuff the vendors are giving away.&lt;/p>
&lt;p>The first session was Designing resilient cloud applications with &lt;a href="https://twitter.com/CodeMillMatt" target="_blank" rel="noopener noreferrer">Matt Soucoup&lt;/a>
and talked about some cloud technologies like Azure key vault and serving static files from blob storage. Unfortunately this had a few technical issues with the demos. I think it was just connectivity with the MongoDB backend but this slightly spoiled the session. As this was the only technical problem I noticed all day I can let it pass.&lt;/p>
&lt;p>Next was a session on Azure DevOps mainly build and release pipelines called Deploying your application faster and safer with &lt;a href="https://twitter.com/bbenz" target="_blank" rel="noopener noreferrer">Brian Benz&lt;/a>
. A lot of this I knew but good to reinforce I am doing things correctly.&lt;/p>
&lt;p>Next was a session on Application Insights called Detecting application anomalies with Telemetry with Matt Soucoup.&lt;/p>
&lt;p>Probably the most useful session was on Docker and Kubernetes called Integrate containers and Kubernetes into your Azure DevOps build and release model with &lt;a href="https://twitter.com/crad77" target="_blank" rel="noopener noreferrer">Marco De Sanctis&lt;/a>
. Going to spend some time looking through the examples from this session.&lt;/p>
&lt;p>A session on Serverless covered Azure Functions, Azure Logic apps and the other Azure Serverless offerings. Investing in Serverless: less servers, more code with &lt;a href="https://twitter.com/simona_cotin" target="_blank" rel="noopener noreferrer">Simona Cotin&lt;/a>
.&lt;/p>
&lt;p>Lastly was a panel discussion on the changes facing IT Pros and SysAdmins. What is the future of the IT Pro in a DevOps &amp;amp; Cloudy world? with &lt;a href="https://twitter.com/jenstirrup" target="_blank" rel="noopener noreferrer">Jennifer Stirrup&lt;/a>
, &lt;a href="https://twitter.com/bakionur" target="_blank" rel="noopener noreferrer">Baki Onur Okutucu&lt;/a>
, &lt;a href="https://twitter.com/AmyKateNicho" target="_blank" rel="noopener noreferrer">Amy Boyd&lt;/a>
and &lt;a href="https://twitter.com/TheOpsMgr" target="_blank" rel="noopener noreferrer">Stephen Thair&lt;/a>
. Should they learn to code, how should they make sure they keep up.&lt;/p>
&lt;p>Tomorrow I have a loads more sessions, including ones about mental health, Azure pipelines, more Kubernetes stuff and dealing with failure.&lt;/p></description></item><item><title>Pwned Pass Update</title><link>https://www.funkysi1701.com/posts/2019/pwned-pass-update/</link><pubDate>Wed, 23 Jan 2019 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2019/pwned-pass-update/</guid><description>&lt;p>Its been a while since I first released Pwned Pass so lets have a look at where we are now.&lt;/p>
&lt;p>We are very close to 500 Downloads from &lt;a href="https://play.google.com/store/apps/details?id=pwnedpasswords.pwnedpasswords" target="_blank" rel="noopener noreferrer">Google Play&lt;/a>
and we have recently smashed past 100 active installs, peaking at 116 and even now we are still over 100. I have had 9 reviews (6 x 5*, 2 x 1 * and a 4 *) which averages out at 4 *
&lt;img class="img-fluid" alt="Alt Text" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/01/image.png?w=662&amp;amp;ssl=1" loading="lazy"
/>
Over Christmas I released a UWP version that can be found in the &lt;a href="https://www.microsoft.com/store/apps/9NM2WHNZTNLT" target="_blank" rel="noopener noreferrer">Microsoft Store&lt;/a>
. This has currently had 9 downloads and even had a download to windows mobile (someone out there still likes the platform!)
&lt;img class="img-fluid" alt="Alt Text" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2019/01/image-1.png?w=662&amp;amp;ssl=1" loading="lazy"
/>
I have a fairly smooth deployment process using Azure DevOps. After every check in of code a build runs which compiles the UWP and Android versions. The build also increments the version numbers that is required to deploy to either of the app stores.&lt;/p>
&lt;p>Every successful build of the master branch will kick off a release to the Beta track of Google Play. If I am happy I then release to 10% of the Production track, which can then be increased to 100% (or halted). The release to Microsoft Store happens after the Beta track of Google Play. Only reason for this order is that there isn’t a beta area for UWP apps so I want to quickly test change on android before rolling out for windows.&lt;/p>
&lt;p>All these steps require confirmation by me before proceeding and often don’t get further than the beta track.&lt;/p>
&lt;p>A further development is that I have open sourced the source code to &lt;a href="">github&lt;/a>
do take a look if you are curious or want to contribute. With the purchase by Microsoft there are easy ways to connect github repositories to Azure DevOps. Once I create a Pull Request in github it creates a build in Azure DevOps and all the build and release steps can happen.&lt;/p>
&lt;p>I am still not 100% sure if I want to keep my bug and issue tracking in github or Azure DevOps as both have features for doing so.&lt;/p>
&lt;p>One future improvement I want to make is to automate the creation of screenshots. When I create a new feature and it gets checked in. I would like to automatically created screenshots of the key pages and submit them to the different app stores. Currently I am not sure if this is possible or how to go about it. I have some ideas to experiment with so we will see what I can do.&lt;/p></description></item><item><title>Lets see what 2019 can do!</title><link>https://www.funkysi1701.com/posts/2019/lets-see-what-2019-can-do/</link><pubDate>Tue, 01 Jan 2019 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2019/lets-see-what-2019-can-do/</guid><description>&lt;p>This is my annual lets make some goals for the new year blog post. So in no particular order.&lt;/p>
&lt;h2 id="improve-house">Improve House&lt;a class="anchor ms-1" href="#improve-house">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>I can’t outdo last years goal of buying a house but I can continue to make efforts to improve it. I was going to put something about decorating or doing something to our bedrooms, however today I spotted a hole in the roof so this may well absorb most of my home improvement budget.&lt;/p>
&lt;h2 id="connect-with-local-area">Connect with local area&lt;a class="anchor ms-1" href="#connect-with-local-area">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>Since we moved in October we haven’t really connected with our local area yet. My only interaction with my neighbours was when my car blocked his drive!&lt;/p>
&lt;p>I am going to make efforts to change this in 2019. I don’t exactly know how yet, but I have some ideas. My son starts nursery and later school this year so could be one way to meet other parents and teachers. I want to connect with a local church, so far this hasn’t happened so need to make more effort with this. There are other local groups that put on child friendly events which would be good to attend.&lt;/p>
&lt;h2 id="lightning-talk">Lightning Talk&lt;a class="anchor ms-1" href="#lightning-talk">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>I failed last year to do this so it is back on my list. I know I must have stuff of value to share so going to try again on this.&lt;/p>
&lt;p>A lightning talk is a very short talk or presentation given at a conference or user group. I am not a natural public speaker so this is a step out of my comfort zone, however I am going to start small and see what happens.&lt;/p>
&lt;p>##Family Holiday
As always we Fosters are going to have a holiday in the summer and have some quality family time. I also want to take the boys to London for a weekend.&lt;/p>
&lt;h2 id="blogging">Blogging&lt;a class="anchor ms-1" href="#blogging">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>This blog has taken a bit of a backseat in 2018 so I want to try and refocus it for 2019. My commitment is for 12 blog posts in 2019, that is one a month. It doesn’t sound like much but I know how easily life can get in the way.&lt;/p>
&lt;p>Having said that my log has had record views this year. 7159 views. However I believe this number to be incorrect and has been inflated by my app development and some of the automated processes taking place.&lt;/p>
&lt;h2 id="routine">Routine&lt;a class="anchor ms-1" href="#routine">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>Last goal is to try a get more of a routine going. With two small boys, one of which is starting school in September a routine is going to be essential and will allow all of us all a chance to get more things done.&lt;/p></description></item></channel></rss>