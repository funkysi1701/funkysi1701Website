<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>2015 on Funky Si's Blog</title><link>https://www.funkysi1701.com/2015/</link><description>Recent content in 2015 on Funky Si's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-gb</language><lastBuildDate>Thu, 03 Dec 2015 00:00:00 +0000</lastBuildDate><atom:link href="https://www.funkysi1701.com/2015/index.xml" rel="self" type="application/rss+xml"/><item><title>SQL Server Management Studio</title><link>https://www.funkysi1701.com/posts/2015/sql-server-management-studio/</link><pubDate>Thu, 03 Dec 2015 00:00:00 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/sql-server-management-studio/</guid><description>&lt;p>I use SQL Server Management Studio all the time for writing queries, getting data and general SQL development.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="SQL Server Management Studio" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/12/sql-server-2012-management-studio-splash-screen.png?resize=529%2C360" loading="lazy"
/>
&lt;/p>
&lt;p>I have enjoyed seeing the improvements that each new version of SQL Server Management Studio (SSMS) introduced. One great improvement was intellisense.&lt;/p>
&lt;p>This feature saves typing and reduces errors by automatically suggesting tables, column names or other database objects.&lt;/p>
&lt;p>A common query that I get asked to write is provide a spreadsheet that gives the information that satisfies certain criteria. This is easy to do in SSMS, you can write the query, click execute and the rows that satisfy the criteria are displayed. These rows can then be easily copy/pasted into Excel or other spreadsheets.&lt;/p>
&lt;p>A common data item that gets stored in databases is addresses and addresses often contain line breaks to make the data display better. In the earlier versions of SSMS, when you copied and pasted these line breaks were ignored and the data displayed the same in SSMS as it did in Excel. However in the more recent version, theses line breaks got copied across breaking your spreadsheet and making it hard to see what data corresponded with what.&lt;/p>
&lt;p>Now I don’t know if this should be described as introducing a bug or fixing one. I can easily argue both sides. If your data contains a line break and you copy this data it should include the line break in the destination, but if it does that it displays badly in Excel.&lt;/p>
&lt;p>The fix I have been using until recently is to use the following TSQL command in my queries.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SELECT&lt;/span> &lt;span style="color:#66d9ef">REPLACE&lt;/span>(&lt;span style="color:#66d9ef">REPLACE&lt;/span>(&lt;span style="color:#f92672">@&lt;/span>str, CHAR(&lt;span style="color:#ae81ff">13&lt;/span>), &lt;span style="color:#e6db74">&amp;#34;), CHAR(10), &amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This command replaces any line breaks with an empty string. Both Char(10) and Char(13) are needed because you can have different types of line breaks. This is great if you are writing the script from scratch but isn’t great if your are running a stored procedure or your query has a lot of columns.&lt;/p>
&lt;p>The answer to this is to use Visual Studio to run your SQL query. In Visual Studio you can write and run queries via Server Explorer and the results produced don’t contain line breaks. I have only just discovered this solution, but so far it has worked and is very easy to do, plus as I do most of my development in Visual Studio anyway it saves me having to open SSMS to test my queries.&lt;/p></description></item><item><title>Star Trek is back (in 2017)</title><link>https://www.funkysi1701.com/posts/2015/star-trek-is-back-in-2017/</link><pubDate>Thu, 12 Nov 2015 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/star-trek-is-back-in-2017/</guid><description>&lt;p>&lt;img class="img-fluid" alt="3f448330857e4ca7ba40ab5465a3c2cb62cdb98c" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/11/3f448330857e4ca7ba40ab5465a3c2cb62cdb98c.png?resize=620%2C260" loading="lazy"
/>
&lt;/p>
&lt;p>As you have probably heard Star Trek is coming back to TV. I recently joined with the Sci Fi Waffle podcast to discuss.&lt;/p>
&lt;p>Sci Fi Waffle: Episode 12 – STAR TREK IS BACK!!&lt;/p>
&lt;p>In this episode we discuss the great news that Star Trek IS BACK!!.&lt;/p>
&lt;p>Shawn and I are joined again by James Roberts and TrekMates News feed Editor Simon Foster to speculate about the announcement of a new Star Trek TV series due to debut in January 2017.&lt;/p>
&lt;p>James can be found on our sister podcast &lt;a href="http://www.trekmate.org.uk/category/the-battle-bridge/" target="_blank" rel="noopener noreferrer">The Battle Bridge&lt;/a>
and Simon can be found on Twitter &lt;a href="https://twitter.com/funkysi1701" target="_blank" rel="noopener noreferrer">@funkysi1701&lt;/a>
&lt;/p>
&lt;p>To listen go &lt;a href="http://www.trekmate.org.uk/sci-fi-waffle-episode-11-star-trek-is-back/" target="_blank" rel="noopener noreferrer">http://www.trekmate.org.uk/sci-fi-waffle-episode-11-star-trek-is-back/&lt;/a>
, to leave feedback go &lt;a href="http://forum.trekmatefamily.com/" target="_blank" rel="noopener noreferrer">http://forum.trekmatefamily.com/&lt;/a>
&lt;/p></description></item><item><title>Unmanaged Database Deployment</title><link>https://www.funkysi1701.com/posts/2015/unmanaged-database-deployment/</link><pubDate>Thu, 10 Sep 2015 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/unmanaged-database-deployment/</guid><description>&lt;p>For the past few months I have been deploying changes to my companies database every couple of weeks or so. Over a weekend when the database was not being used I would make a backup of the database, load up visual studio, deploy the database changes and copy a couple of front-end files.&lt;/p>
&lt;p>My weekends and evenings have recently become a bit more precious to me since the arrival of my son James. At suitable times to run the database upgrade I am either, asleep, about to fall asleep or be spending time with James.&lt;/p>
&lt;p>This entire deployment can be set to run at a time of my choosing using SQL Server Jobs, (not sure why I never thought of doing this before). I still need to check everything is working after it has run. The job can send me an email if it encounters any problems so I can still ensure the company has the minimum of problems but has more frequent changes.&lt;/p>
&lt;h2 id="unmanaged-database-deployment">Unmanaged Database Deployment&lt;a class="anchor ms-1" href="#unmanaged-database-deployment">&lt;i class="fas fa-link">&lt;/i>&lt;/a>&lt;/h2>
&lt;p>OK so what do I need to do to set this up.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/09/deploy.jpg?resize=263%2C300&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;ol>
&lt;li>Test all your code changes are working correctly on a backup of the database and everything is committed to source control.&lt;/li>
&lt;li>Backup everything that is going to be changed so it can be rolled back in case of a problem. I don’t rely on the daily backup jobs for this, I do my own. Maybe I am a bit paranoid, or maybe I am just being cautious.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>BACKUP &lt;span style="color:#66d9ef">DATABASE&lt;/span> DBName &lt;span style="color:#66d9ef">TO&lt;/span> DISK&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;E:\SQL Backups\Filename.bak&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>I would include in the backup file name the date and time of the deployment for easy reference later on. For the front-end files these are backed up daily and only ever change during a deployment so I am going to rely on the day to day backups, plus they are in source control so in a worse case scenario I can look there.&lt;/p>
&lt;ol start="3">
&lt;li>From Visual Studio create a deployment script using the publish option and save as a file on your database server.&lt;/li>
&lt;li>Create a SQL Server Job and give it a descriptive name.&lt;/li>
&lt;li>In steps create a step called backup and enter the T-SQL code above. Set this to stop on failure and continue on success.&lt;/li>
&lt;li>Create a second step called upgrade of type operating system with the following code.&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>sqlcmd -S (local) -i &amp;#34;E:\SQL Backups\deploy_test.sql&amp;#34;
&lt;/code>&lt;/pre>&lt;p>The -S parameter is the name of your SQL Server instance and the -i parameter is the path to the sql script you generated from Visual Studio above. Set this job to quit reporting success or failure.&lt;/p>
&lt;ol start="7">
&lt;li>In schedule create a date time you want the job to run, make sure this is a one time job as you don’t want it to try and run again possibly causing problems.&lt;/li>
&lt;li>In notifications I have set to email on completion, you can set it to email on failure only. I would prefer to know the outcome of the job regardless.&lt;/li>
&lt;li>Using SQL Server jobs to copy files over the network is possible but is not trivial to setup so I am going to use windows task scheduler for this.&lt;/li>
&lt;li>Create a job in task scheduler to copy all the ADPs or ADEs that have been changed. If the SQL job fails you will need to copy the old versions of these back but that is simple enough to do.&lt;/li>
&lt;/ol>
&lt;p>This process can be expanded to check code out of source control and do even more automated deployments but for now this is good enough for my purposes.&lt;/p></description></item><item><title>Baby Magic and Becoming a Father</title><link>https://www.funkysi1701.com/posts/2015/baby-magic-and-becoming-a-father/</link><pubDate>Thu, 03 Sep 2015 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/baby-magic-and-becoming-a-father/</guid><description>&lt;p>I am pleased to announce the birth of James David Martin Foster weighing 9 lb 12 on 19th August 2015.&lt;/p>
&lt;p>Mother and Baby (and Father) are doing well.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/07/james5.jpg?resize=300%2C225&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>I am not a baby person, I hate children and I run a mile from other people’s babies.&lt;/p>
&lt;p>But James performed some magic on me and now I will do anything for him. If you have had children you probably know what I am talking about and if you haven’t you are probably like me 24 hours before James arrived.&lt;/p>
&lt;p>During the pregnancy I had been living in denial that I would become a father, despite the wife speaking about nothing else and our home filing with baby equipment. It was only minutes before I first saw my son that I changed.&lt;/p>
&lt;p>Due to James’s large size, the birth wasn’t easy. After about an hour of pushing the midwife called in a team of doctors and nurses to help and I think it was at this point that it started to hit me. I am not an emotional man, if anything I tend to repress my feelings but I completely and utterly failed to do that on this occasion. By the time the baby had been placed on my wife’s chest tears of joy were streaming down my face and this continued for some time. Moments after birth James had a tight grip on my finger. His tiny hands were like miniature versions of my own hands.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/08/jameshand.jpg?resize=169%2C300&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>I have been asked what it felt like holding James in my arms for the first time, this happened on the following day. I am not sure if I can put it into words, but a few adjectives come to mind, amazing, great, fantastic, humbling. James depends on me (and his mother) for everything and his existence has put a new spin on everything I do. I want to be there for him, help him learn stuff, provide for him and love him.&lt;/p>
&lt;p>I have been working very hard recently, spending my free time writing this blog, learning stuff and doing other work. The reasons for this hard work are now clear, I work so I can provide for James and so I can spend my free time with him.&lt;/p>
&lt;p>Before James arrived I had it in my head that his mother would do the majority of the caring for him. This is not going to happen now that I have met James. I want to cuddle him, change his nappies, dress him, hold his hand, take him to school, watch TV with him, stroke his head when he is ill, tell him about my life experiences, introduce him to wine, tell him about girls, help him move home, etc.&lt;/p>
&lt;p>I am not saying being a parent is going to be easy. I am pretty clueless about what is in store for us, but already I am worrying if he is OK, trying to calm him down when he is upset and being woken in the early hours.&lt;/p>
&lt;p>Anyway only time will tell if I continue being this positive about fatherhood, but so far I am loving it. Normal blog posts will hopefully resume over the next few weeks (or when I have time).&lt;/p></description></item><item><title>Things to know before working on your database</title><link>https://www.funkysi1701.com/posts/2015/things-to-know-before-working-on-your-databasethings-to-know-before-working-on-your-database/</link><pubDate>Mon, 20 Jul 2015 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/things-to-know-before-working-on-your-databasethings-to-know-before-working-on-your-database/</guid><description>&lt;p>I recently saw this blog &lt;a href="http://www.brentozar.com/archive/2015/07/questions-to-ask-before-you-touch-a-database-server/" target="_blank" rel="noopener noreferrer">post&lt;/a>
by &lt;a href="http://www.brentozar.com/team/brent-ozar/" target="_blank" rel="noopener noreferrer">Brent Ozar&lt;/a>
that I thought I might discuss.&lt;/p>
&lt;p>Brent listed 13 questions to ask about a database before you start working with it. I am going to go through these 13 questions and expand on them based on my experiences.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Is this database in production now?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>I think it should go without saying that the first thing you should find out is if your database is in production. If its not in production you can do what you like and no one will notice.
I know what databases are in production and which aren’t where I work so I can answer this one.&lt;/p>
&lt;ol start="2">
&lt;li>&lt;strong>If this goes down, what apps go down with it?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>What apps are running on what databases is a good second question. I have at least one database which has multiple front end apps. At first glance you would think that that these two apps are not connected but they are, I need to be careful with both of these apps to make sure they don’t break each other.
I know what apps run off what databases.&lt;/p>
&lt;ol start="3">
&lt;li>&lt;strong>When those apps go down, is there potential for loss of life or money?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>This is a difficult question so I will split it into two. Loss of life, my databases don’t control life support machines or nuclear weapons so my first instinct would be to say no. However it is not that straightforward, what if your app allowed contractors to know the location of dangers inside a property they were working in. Once your app goes down, they could have an accident due to lack of information.
Loss of money, this one is more straightforward. Time is money in the business world so any time that your app is down and your employees are not able to work is a loss of money. If your database is linked to an eCommerce site, the loss of money could be extremely high.
I know what affect downtime will have on my users and business.&lt;/p>
&lt;ol start="4">
&lt;li>&lt;strong>How sensitive are these apps to temporary slowdowns?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>Similar to the previous question, a slowdown can be as serious as downtime for some applications.
Luckily most of my apps are internal only so are not seriously affected by slowness.&lt;/p>
&lt;ol start="5">
&lt;li>&lt;strong>When was the last successful backup?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>I manage the backup schedule for all my databases so I know exactly when each one was last backed up. When ever I do anything to a production database I will run a backup so I can roll back in case of problems. As part of developing changes I run my changes on a backup of the data. I can script all my changes and repeatedly run them against a backup until I am sure no problems will occur.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/07/uf010206.jpg" loading="lazy"
/>
&lt;/p>
&lt;ol start="6">
&lt;li>&lt;strong>When was the last successful restore test?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>More important than a backup is testing restoring your databases. If you can’t restore data then your backup is useless. I try to test restoring my backups at least weekly so I know that I can rely on my backups.&lt;/p>
&lt;ol start="7">
&lt;li>&lt;strong>Is everyone okay losing data back to the last successful backup?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>If disaster strikes you could loose all data between now and the time of your last backup. But all is not lost transactional backups can be scheduled throughout the day, in my case the most data we could loose is 15 minutes. This could be configured to be more or less frequent depending on your data. But remember the previous question and make sure you test a restore of your transactional backups, if you can’t restore from them you will be forced to restore from the last successful backup.&lt;/p>
&lt;ol start="8">
&lt;li>&lt;strong>When was the last successful clean corruption test?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>Corruption can be a killer if it is not found quickly. If you need to restore to the last backup before corruption occurred this could result in a significant amount of data loss. To check for corruption you need to run DBCC regularly.&lt;/p>
&lt;ol start="9">
&lt;li>&lt;strong>Do we have a development or staging environment where I can test my changes first?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>If the answer to this is no, then your next job is to setup a development or staging area. Having a development environment makes development a lot easier and I don’t think I could manage to do all the changes I have done recently without one.&lt;/p>
&lt;ol start="10">
&lt;li>&lt;strong>Is there any documentation for why the server was configured this way?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>I really wish we had more documentation about configurations as it would make finding out why thing were setup the way they are. So unfortunately the answer to this question is No.&lt;/p>
&lt;ol start="11">
&lt;li>&lt;strong>What changes am I not allowed to make?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>Depending on what your app does, where it is hosted, how quick the changes are needed and many other factors will all restrict what changes you can make. Historical decisions on the database can also affect what changes can be made, if the database has been structured in a certain way, it may be very difficult to restructure it in a more efficient way.&lt;/p>
&lt;ol start="12">
&lt;li>&lt;strong>Who can test that my changes fixed the problem?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>This is an interesting question, from experience the best people to speak to about problems with the database are the users. If they can show you how to reproduce a problem, you should be able to fix this problem, after that you can probably get them to verify that it has been fixed.&lt;/p>
&lt;ol start="13">
&lt;li>&lt;strong>Who can test that the apps still work as designed, and that my changes didn’t have unintended side effects?&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>This is an extension of the previous question. The main users of your app should be your first port of call to find out if the app works as expected. However exploring side affects and undesired features is something that I would test as part of the development process. It has taken a while but I have constructed a detailed check list that can be used for testing so I know that most bugs can be found before release.&lt;/p></description></item><item><title>Sudoku Challenge</title><link>https://www.funkysi1701.com/posts/2015/sudoku-challenge/</link><pubDate>Fri, 26 Jun 2015 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/sudoku-challenge/</guid><description>&lt;p>Last night I went to a Code Dojo at Leeds Sharp (the coding user group I have started going to). A Code Dojo is a programming challenge that people work on usually in pairs.&lt;/p>
&lt;p>The challenge that we worked on was to code a solution to the puzzle game Sudoku. The code we worked with can be found on github.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/06/2000px-Sudoku-by-L2G-20050714.svg_.png?resize=660%2C660&amp;amp;ssl=1" loading="lazy"
/>
&lt;/p>
&lt;p>I don’t know much about Sudoku but the game goes like this. You start with a 9×9 grid, and the idea is to fill in all the missing numbers.&lt;/p>
&lt;p>Each Row can only use each digit 1 to 9 once, each column can only use each digit 1 to 9 once and each subgrid (3×3) can only use each digit once.&lt;/p>
&lt;p>I worked with Richard one of the Leeds Sharp organisers, we started by trying to loop through each empty cell and insert values in a brute force attack, but this approach didn’t get us very far (literally as the application crashed!)&lt;/p>
&lt;p>The approach that we needed to use was to loop through calculating possible values.&lt;/p>
&lt;p>It was only when I sat down at this dojo did I realise how much I still have to learn, but while talking with Richard about different approaches and different coding structures I started to learn.&lt;/p></description></item><item><title>Runaway SQL Log growth</title><link>https://www.funkysi1701.com/posts/2015/runaway-sql-log-growth/</link><pubDate>Fri, 12 Jun 2015 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/runaway-sql-log-growth/</guid><description>&lt;p>Today is my day off, but I wake up and have a quick look at &lt;a href="https://www.funkysi1701.com/posts/i-love-nagios/">nagios&lt;/a>
to see if there is anything I need to worry about. Yes there is, SQL Server has run out of disk space on its data disk.&lt;/p>
&lt;p>I race downstairs and VPN onto the server to find out what has happened. One of my monitoring databases has had runaway log growth and is over 80Gb is size.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>BACKUP LOG [DBName] &lt;span style="color:#66d9ef">WITH&lt;/span> TRUNCATE_ONLY
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>DBCC SHRINKFILE(&lt;span style="color:#e6db74">&amp;#39;DBName_Log&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Free disk space is back to normal, all users will be unaware of the problem and everything is fine again. I create a daily job that runs the above code, that way it should stay a manageable size.&lt;/p>
&lt;p>Next I need to find out why it happened and to prevent it happening again in the future (Next time I have a day off I want to lie in!)&lt;/p>
&lt;p>I check the SQL logs and notice&lt;/p>
&lt;p>BACKUP LOG WITH TRUNCATE_ONLY or WITH NO_LOG is deprecated. The simple recovery model should be used to automatically truncate the transaction log.&lt;/p>
&lt;p>Then I remember what I have done to cause this issue. I have a separate disk for my backup files and earlier in the week I noticed this disk was filling up, a large amount of space was taken up by transactional backup files. I thought I don’t need to backup the transactions for this non critical database, I will just do a full backup at the start of everyday.&lt;/p>
&lt;p>However what I forgot is that a transactional backup keeps the log file under control, once this backup was stopped the log file grew uncontrollably. The answer, change the database from FULL mode to SIMPLE.&lt;a href="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/06/image002.png" target="_blank" rel="noopener noreferrer">&lt;img class="img-fluid" alt="image002" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/06/image002-300x270.png?resize=300%2C270" loading="lazy"
/>
&lt;/a>
&lt;/p>
&lt;p>This is my understanding of how backups work in FULL mode. A full backup is done at the start of the day which resets the log file, then changes in the database are stored in the log file, this is backed up into a transactional backup and the log file gets reset. If you have regular transactional backups throughout the day the log file doesn’t grow too much, however with no transactional backups your log file contains an entire days worth of changes and so for a monitoring database this could be quite large.&lt;/p>
&lt;p>In SIMPLE mode you can’t do transactional backups and the log doesn’t grow uncontrollably. This shouldn’t be used for production databases as if there is a problem you could loose data.&lt;/p></description></item><item><title>Source Control Fail</title><link>https://www.funkysi1701.com/posts/2015/source-control-fail/</link><pubDate>Mon, 16 Mar 2015 00:00:00 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/source-control-fail/</guid><description>&lt;p>Every developer uses source control, it is a great tool for keeping track of changes to your code, seeing who has done what.&lt;/p>
&lt;p>However I keep messing up, my use of it. I am fairly disciplined when creating new features, all my changes will get committed to source control and when I am happy I will deploy these changes to the live system. But as soon as there is a bug, especially one where the client is chasing for a fix, I will deploy a fix as soon as humanly possible on to the live system.&lt;/p>
&lt;p>At first glance there is nothing wrong with what I have described but what happens the next time I deploy a new feature. Yes the bug the client was complaining about gets deployed with the new feature as the fix was never committed into source control. The client gets angry as the bug he was screaming about is back again.&lt;/p>
&lt;p>Every change you make to the system &lt;strong>MUST&lt;/strong> be committed to source control. If it isn’t that change will look like it never existed. I have worked with source control for over 5 years why do I keep making this rookie mistake over and over.&lt;/p>
&lt;p>Troy Hunt has a &lt;a href="http://www.troyhunt.com/2011/05/10-commandments-of-good-source-control.html" target="_blank" rel="noopener noreferrer">blog post&lt;/a>
about the 10 commandments of using source control. His number two commandment is “If it’s not in source control, it doesn’t exist” He talks more about code you have written being not saved into source control, but the principal is the same for my example as his.&lt;/p>
&lt;p>There are ways to automatically deploy from source control, however most of the time you don’t want your live database being rebuilt because you fixed a typo. Additional steps will need to be implemented and there is still the chance that you might want to bypass these steps to fix the urgent problem. The only way past this problem is for you and everyone on your team to be disciplined and only ever commit to source control first, and only after that deploy live (either automatically or manually)&lt;/p></description></item><item><title>Azure Traffic Manager</title><link>https://www.funkysi1701.com/posts/2015/azure-traffic-manager/</link><pubDate>Thu, 12 Mar 2015 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/azure-traffic-manager/</guid><description>&lt;p>I have spent most of the day tweaking my Azure websites. Lots of fun!&lt;/p>
&lt;p>Last week unfortunately Azure had some problems and many websites that were running in the North Europe data centre were unavailable for several hours. And you guessed it my websites were hosted here.&lt;/p>
&lt;p>All hosting providers are going to have downtime from time to time and this is just something you have to take on the chin. The important thing to do in times like these is communicate with your customers about what is going on and that you are doing everything you can to restore service.&lt;/p>
&lt;p>However Azure has some amazing features that you can configure to help manage when downtime occurs.&lt;/p>
&lt;p>Azure is Microsoft’s global cloud platform. And it really is global, there are data centres in North Europe, West Europe, Brazil, Japan, two more in Asia and five in the US. In the event of problems it is highly unlikely that more than one of these would go down at once. If all of these are unavailable, I expect the planet earth is facing some kind of cataclysmic event and the fact that my website is down is not a priority.&lt;/p>
&lt;p>&lt;a href="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/03/IC750592.jpg" target="_blank" rel="noopener noreferrer">&lt;img class="img-fluid" alt="IC750592" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/03/IC750592.jpg?resize=662%2C347" loading="lazy"
/>
&lt;/a>
To take advantage of these multiple data centres, Azure has something called a Traffic Manager.&lt;/p>
&lt;p>Traffic Manager has various settings but I am using it in failover mode. This means that if one website goes down, the next one is used.&lt;/p>
&lt;p>All you need to do is create a traffic manager, add two or more websites to it (called endpoints) and choose a page that needs to be monitored so Azure knows which websites are up and which are down.&lt;/p>
&lt;p>If you are using SSL or custom domain names, there are a few extra steps you need to do. Your custom domain name needs pointing at the traffic manager, not the individual websites. The websites themselves have three domain names, the traffic manager address, the azure address and the custom domain name. The SSL certificate can then be assigned to each website that you have added to the traffic manager.&lt;/p>
&lt;p>That was easy wasn’t it, and now if a website goes down traffic manager will use the next one. While testing this, the transition to the next website was almost immediate. I did notice that if you had a browser showing the website open during a problem you sometimes got an error page, I think this was probably due to browser caching, reopening a tab or browser fixed this issue.&lt;/p></description></item><item><title>Tidying my desktop</title><link>https://www.funkysi1701.com/posts/2015/tidying-my-desktop/</link><pubDate>Wed, 11 Mar 2015 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/tidying-my-desktop/</guid><description>&lt;p>My desktop is always a mess. I constantly download files there and forget all about them.&lt;/p>
&lt;p>Every now and then I copy files into sub directories, so my desktop looks sane for a day or two before it gets out of control again.&lt;/p>
&lt;p>Why don’t I write a script that I can schedule to do this for me. Then my desktop will always be tidy.&lt;/p>
&lt;p>I have written a few simple batch scripts, but of course the best scripting language out there at the moment is PowerShell. Lets use that.&lt;/p>
&lt;p>Windows provides a nice little utility for writing scripts called the Windows PowerShell ISE, so let&amp;rsquo;s start by loading that up.&lt;/p>
&lt;p>PS has lots of help included to help you, just run &lt;strong>Get-Help [name of ps command]&lt;/strong>&lt;/p>
&lt;p>To move files you can use &lt;strong>Move-Item&lt;/strong> which works very similar to copy, specify source and destination. In my case I moved files based on their file extension.&lt;/p>
&lt;p>Move-Item *.pdf folder&lt;/p>
&lt;p>Now all I need to do is schedule this script to run either every day or so, or maybe every time I login or switch my computer on.&lt;/p>
&lt;p>PowerShell can do lots more interesting things which hopefully I will blog about soon.&lt;/p></description></item><item><title>Source Code for Game of Life</title><link>https://www.funkysi1701.com/posts/2015/source-code-for-game-of-life/</link><pubDate>Sat, 21 Feb 2015 09:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/source-code-for-game-of-life/</guid><description>&lt;p>Last week I blogged about the Game of Life.&lt;/p>
&lt;p>Well it took some searching through dead hard drives and old USB storage but I found the program I wrote, and better than that I have figured out how to turn it back into source code.&lt;/p>
&lt;p>The file date is November 2004 and the source code has no comments so I don’t know what was going through my head when I wrote it, or even what some of it does.&lt;/p>
&lt;p>To view the source code download &lt;a href="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/02/Life.src_.zip" target="_blank" rel="noopener noreferrer">Life.src&lt;/a>
, to download the finished program download &lt;a href="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/02/Life.zip" target="_blank" rel="noopener noreferrer">Life&lt;/a>
.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="Life" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/02/Life.jpg" loading="lazy"
/>
&lt;/p>
&lt;p>I am actually surprised I was expected the code to be much worse than it was, I am not saying it is good, but I can see more than one method and I can’t see any code that obviously is repeated. I can see some terrible variable names. Note to future self don’t use tmp676_674!&lt;/p>
&lt;p>Assuming that I wrote this in 2004 what would I have been doing then? It was before I started working in IT. (Hard to imagine I know!) It may even have been before I started living with Keith, before he recruited me for my first IT role. I think I was probably working as an administrator for Defra at this point.&lt;/p>
&lt;p>If we put 2004 in technical terms, it was before I joined facebook, Office 2003 and XP would have been installed on my PC, and probably felt brand new.&lt;/p></description></item><item><title>Laziness</title><link>https://www.funkysi1701.com/posts/2015/laziness/</link><pubDate>Wed, 04 Feb 2015 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/laziness/</guid><description>&lt;p>I am lazy, I won’t try and deny that. When my alarm goes off in the morning, I will snooze it for twenty minutes or so before getting out of bed.&lt;/p>
&lt;p>&lt;img class="img-fluid" alt="" src="https://storageaccountblog9f5d.blob.core.windows.net/blazor/wp-content/uploads/2015/02/bill-gates-quote.jpg" loading="lazy"
/>
&lt;/p>
&lt;p>In my work my laziness continues. Remote Desktop (or RDP) is probably my number one laziness tool. For those that don’t know RDP allows you to connect to another computer and access it like you were sat in front of it. So I can be sat at my desk and RDP into any other computer in the office including any server. However this laziness tool does sometimes require a bit of effort sometimes, powering on the target computer, logging on locally, making sure the user account you are using is allowed to use RDP.&lt;/p>
&lt;p>Writing a script is another example of a laziness tool. I often get asked to do tedious and long-winded task, because I am lazy I will go out of my way to learn how to write a script to do this, so that I can run this script and do this long-winded task in a matter of seconds. There are loads of different types of scripts from database SQL scripts, to PowerShell scripts that can do almost anything on your server.&lt;/p>
&lt;p>PowerShell is something Microsoft are really pushing at the moment, you can even write scripts to create new user accounts, so no longer will you have to remember to tick that tickbox for every new user account. And because PowerShell is part of almost all MS technologies you can link Exchange to Active Directory and you don’t even have to remember the right syntax as PowerShell has a built-in help command to tell you how to run that useful command.&lt;/p>
&lt;p>As I am now moving into a more developer role can I continue to be lazy? I sure can. Code should be written once and reused as often as possible and this is one of the features of OOP (Object Oriented Programming).&lt;/p>
&lt;p>It can be as simple as creating a master page so you don’t need to recreate the same code on every one of your webpages. Or every time you find yourself rewriting the same code again, you plug it into a method so it can be called again and again.&lt;/p>
&lt;p>But of course the ultimate way to be lazy is of course get yourself some staff and spend all day getting them to do everything. If you are lucky they may even try and adopt some of these lazy ideas.&lt;/p></description></item><item><title>Hello World!</title><link>https://www.funkysi1701.com/posts/2015/hello-world-2/</link><pubDate>Sat, 10 Jan 2015 20:00:45 +0000</pubDate><guid>https://www.funkysi1701.com/posts/2015/hello-world-2/</guid><description>&lt;p>The first program anyone writes in a new language is often really simple and just displays the text “Hello World!”, below are a few examples from languages I have knowledge of.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C#" data-lang="C#">&lt;span style="display:flex;">&lt;span>Console.WriteLine(&lt;span style="color:#e6db74">&amp;#34;Hello, world!&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-HTML" data-lang="HTML">&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">html&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">head&lt;/span>&amp;gt;&amp;lt;/&lt;span style="color:#f92672">head&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">body&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">p&lt;/span>&amp;gt;Hello, world!&amp;lt;/&lt;span style="color:#f92672">p&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;/&lt;span style="color:#f92672">body&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;/&lt;span style="color:#f92672">html&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-PHP" data-lang="PHP">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">php&lt;/span> &lt;span style="color:#66d9ef">echo&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Hello, world!&amp;#39;&lt;/span>; &lt;span style="color:#75715e">?&amp;gt;&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>MsgBox(&amp;#34;Hello, World!&amp;#34;)
&lt;/code>&lt;/pre>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-SQL" data-lang="SQL">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SELECT&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Hello, world!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Or maybe&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-SQL" data-lang="SQL">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">SELECT&lt;/span> &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#66d9ef">FROM&lt;/span> &lt;span style="color:#66d9ef">table&lt;/span> &lt;span style="color:#66d9ef">WHERE&lt;/span> name &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Hello World!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-PowerShell" data-lang="PowerShell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">&amp;#39;Hello, world!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-JavaScript" data-lang="JavaScript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">console&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;Hello, world!&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-BASIC" data-lang="BASIC">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">PRINT&lt;/span> &lt;span style="color:#e6db74">&amp;#34;Hello, world!&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Turns out I know quite a few programming languages. And yes there have been times where I need to stop and think about which language I am writing in.&lt;/p></description></item></channel></rss>